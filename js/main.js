$(function() {	$("#name").html(sessionStorage.getItem("name"));	$("header img").click(function() {		sessionStorage.clear();		window.location.href = "../../index.html";	})})function returnCustomerName(t){		if($(t).val()!==""){		var customerName = $(t).val();	}	return customerName;}function startDate(t){	if($(t).val()!==""){		var startDate2 = $(t).val();		var dateArray = startDate2.split("-");		var startDate = dateArray[2]+"-"+ dateArray[1]+"-"+dateArray[0];	}	return startDate}function navToggle(t){	$(".navs-container").toggle(500);	$(".main-container").toggle(500);	$(".search2").toggle(500);	if($(".toggle").text()==""){		$(".toggle").html("(展开)")	}else{		$(".toggle").html("")	}}function protocolNum(data, num) {	var protocolNum = data.protocolNum;	var pages = Math.ceil(protocolNum / parseInt(num));	if(pages > 5) {		$(".dian").html("...");		$(".last1").html(pages - 1);		$(".last2").html(pages - 2);	}}function fenye(t){	var page = "10";	$(".fenye li").removeClass("liActive");	$(t).addClass("liActive");	if($(t).text()==1){		page = $(t).text()	}else if($(t).text()==2 ){		if($(t).prev().text()==1){			page = $(t).text()		}else{			$(t).before('<li>'+(parseInt($(t).text())-1)+'</li>')			$(t).next().next().remove();			page = $(t).text()		}			}else if(parseInt($(t).text())+1 != parseInt($(t).next().text())){				$(t).after('<li>'+(parseInt($(t).text())+1)+'</li>')		$(t).prev().prev().remove()		page = $(t).text()	}else if($(t).prev().text()=="<"){		$(t).before('<li>'+(parseInt($(t).text())-1)+'</li>')		$(t).next().next().remove()		page = $(t).text()	}	return page;}function fenye2(p,url2,n){	$.ajax({		type:"post",		url:url_path+url2,		data:{			//"userId":userId,			"type":"1",			"page":p,			"num":n		},		dataType:"json",		success:function(data){			protocols_success(data);		},		error:function(){}	});}function protocols_success(data) {	if(data.status == "yes") {		$(".allProtocol").html(data.protocolNum);		$("#all-customer").html(data.protocolNum);				$(".data-container-part1").remove();				for(var i = 0; i < data.protocols.length; i++) {			var html = '<div class="data-container-part data-container-part1 data-container-detail">' +				'<div class="data-container-parts protocolId">' + data.protocols[i].protocolId + '</div>' +				'<div class="data-container-parts data-container-parts-userId" data-userId="'+data.protocols[i].userId+'">' + data.protocols[i].name + '</div>' +				'<div class="data-container-parts data-container-parts-customerName">' + data.protocols[i].customerName + '</div>' +				'<div class="data-container-parts">' + data.protocols[i].secondMobile + '</div>' +				'<div class="data-container-parts">' + data.protocols[i].secondAddress + '</div>' +				'<div class="data-container-parts">' + data.protocols[i].addTime + '</div>' +				'<div class="data-container-parts">' +				'<button class="data-container-part-lookUp lookUp">查看协议</button>|' +				'<button class="data-container-part-lookUp lookUp2">查看终端</button>' +				'</div>' +				'<div class="clear"></div>' +				'</div>';			$("#data-container").append(html)		}	} else if(data.status == "no") {		$(".allProtocol").html("0");		$(".data-container-part1").remove();		var html = '<div class="data-container-part data-container-part1 data-container-detail">' +			'<div class="data-container-parts">暂无数据</div>' +			'<div class="data-container-parts">暂无数据</div>' +			'<div class="data-container-parts">暂无数据</div>' +			'<div class="data-container-parts">暂无数据</div>' +			'<div class="data-container-parts">暂无数据</div>' +			'<div class="data-container-parts">暂无数据</div>' +			'<div class="data-container-parts">' +			'<button class="data-container-part-lookUp lookUp">查看</button>|' +			'<button class="data-container-part-lookUp">隐藏</button>' +			'</div>' +			'<div class="clear"></div>' +			'</div>';		$("#data-container").html(html)	}}function UsersSuccess(data){	if(data.status=="yes"){		$(".navs-part2").remove();		for(var i=0;i<data.terminalUser.length;i++){			var html = '<div class="navs-part navs-part2">'+							'<p class="navs-part-name">'+data.terminalUser[i].name+'</p>'+							'<p class="navs-part-company">'+data.terminalUser[i].areaNo+'</p>'+							'<p class="navs-part-company hide terminalUserId">'+data.terminalUser[i].userId+'</p>'+							'<div>'+								'<div class="navs-part-left">'+									'<p>客户总计:</p>'+								'</div>'+								'<div class="navs-part-right">'+									'<p>'+data.terminalUser[i].customerNum+'</p>'+								'</div>'+								'<div class="clear"></div>'+							'</div>'+							'<div>'+								'<div class="navs-part-left">'+									'<p>协议总计:</p>'+								'</div>'+								'<div class="navs-part-right">'+									'<p>'+data.terminalUser[i].protocolNum+'</p>'+								'</div>'+								'<div class="clear"></div>'+							'</div>'+						'</div>';			$(".all-navs-part").after(html);		}	}	}function deliveryNotesTotal_success(data){	if(data.status=="yes"){		 		$("#data-container2").find(".data-container-parts3").remove();		for(var i=0;i<data.info.length;i++){			var totalNum = data.info[i].totalNum;			if(data.info[i].totalNum==undefined){				totalNum = "无"			}			var totalPrice = data.info[i].totalPrice;			if(data.info[i].totalPrice==undefined){				totalPrice = "无"			}			var html = '<div class="data-container-part data-container-parts2 data-container-parts3">'+							'<div class="data-container-parts data-container-part2 hide">'+data.info[i].productName+'</div>'+							'<div class="data-container-parts data-container-part2">'+data.info[i].productName+'</div>'+							'<div class="data-container-parts data-container-part2">'+totalNum+'</div>'+							'<div class="data-container-parts data-container-part2">'+totalPrice+'</div>'+							'<div class="clear"></div>'+						'</div>';			$("#data-container2").append(html);		}	}}function UsersSuccess2(data){	if(data.status=="yes"){		$(".navs-part2").remove();		for(var i=0;i<data.terminalUser.length;i++){			var html = '<div class="navs-part navs-part2">'+							'<p class="navs-part-name">'+data.terminalUser[i].name+'</p>'+							'<p class="navs-part-company">'+data.terminalUser[i].areaNo+'</p>'+							'<p class="navs-part-company hide terminalUserId">'+data.terminalUser[i].userId+'</p>'+														'<div>'+								'<div class="navs-part-left">'+									'<p>订单总计:</p>'+								'</div>'+								'<div class="navs-part-right">'+									'<p>'+data.terminalUser[i].protocolNum+'</p>'+								'</div>'+								'<div class="clear"></div>'+							'</div>'+						'</div>';			$(".all-navs-part").after(html);		}	}	}function deliveryNotes_success(data){		if(data.status=="yes"){			$(".allProtocol").html(data.deliveryNum);			$("#all-protocol").html(data.deliveryNum)			$(".data-container-part1").remove();			for(var i=0;i<data.deliveryNotes.length;i++){				var html = '<div class="data-container-part data-container-part1 data-container-title">'+								'<div class="data-container-parts deliveryId">'+data.deliveryNotes[i].deliveryId+'</div>'+								'<div class="data-container-parts data-container-parts-userId" data-userId="'+data.deliveryNotes[i].userId+'">'+data.deliveryNotes[i].name+'</div>'+								'<div class="data-container-parts data-container-parts-customerName" >'+data.deliveryNotes[i].customerName+'</div>'+								'<div class="data-container-parts">'+data.deliveryNotes[i].allMoney+'</div>'+								'<div class="data-container-parts">'+data.deliveryNotes[i].thisPoints+'</div>'+								'<div class="hide bigMoney">'+data.deliveryNotes[i].bigMoney+'</div>'+								'<div class="hide allMoney">'+data.deliveryNotes[i].allMoney+'</div>'+								'<div class="hide customerName">'+data.deliveryNotes[i].customerName+'</div>'+								'<div class="hide mobile">'+data.deliveryNotes[i].mobile+'</div>'+								'<div class="hide addTime">'+data.deliveryNotes[i].addTime+'</div>'+								'<div class="hide deliveryNo">'+data.deliveryNotes[i].deliveryNo+'</div>'+								'<div class="hide represent">'+data.deliveryNotes[i].represent+'</div>'+								'<div class="data-container-parts">'+									'<button  class="data-container-part-lookUp lookUp">查看订单详情</button>'+																	'</div>'+								'<div class="clear"></div>'+							'</div>';				$("#data-container").append(html)			}		}else{			$(".allProtocol").html("0");			$(".data-container-part1").remove();			var html = '<div class="data-container-part data-container-part1 data-container-title">'+							'<div class="data-container-parts">暂无数据</div>'+							'<div class="data-container-parts">暂无数据</div>'+							'<div class="data-container-parts">暂无数据</div>'+							'<div class="data-container-parts">暂无数据</div>'+							'<div class="data-container-parts">暂无数据</div>'+							'<div class="data-container-parts">'+								'<button  class="data-container-part-lookUp lookUp">查看</button>|'+								'<button class="data-container-part-lookUp">隐藏</button>'+							'</div>'+							'<div class="clear"></div>'+						'</div>';			$("#data-container").append(html)		}}function products_success(data){	if(data.status=="yes"){		$(".data-container-part1").remove();		$(".allProtocol").html(data.productNum);		for(var i=0;i<data.products.length;i++){						var html = '<div class="data-container-part data-container-part1 data-container-detail">'+							'<div class="data-container-parts productId">'+data.products[i].productId+'</div>'+							'<div class="data-container-parts">'+data.products[i].productName+'</div>'+							'<div class="data-container-parts">'+								'<button class="data-container-part-lookUp gongyi">工艺</button>|'+								'<button class="data-container-part-lookUp update">修改</button>|'+								'<button class="data-container-part-lookUp">删除</button>'+							'</div>'+							'<div class="clear"></div>'+						'</div>';			$("#data-container").append(html)		}	}else if(data.status=="no"){				$(".data-container-part1").remove();		var html = '<div class="data-container-part data-container-part1 data-container-detail">'+						'<div class="data-container-parts">暂无数据</div>'+						'<div class="data-container-parts">暂无数据</div>'+						'<div class="data-container-parts">'+							'<button class="data-container-part-lookUp">工艺</button>|'+							'<button class="data-container-part-lookUp">修改</button>|'+							'<button class="data-container-part-lookUp">删除</button>'+						'</div>'+						'<div class="clear"></div>'+					'</div>';		$("#data-container").append(html)	}}function user_success(data){	if(data.status=="yes"){		$(".allProtocol").html(data.userNum);		$(".data-container-part1").remove();		for(var i=0;i<data.users.length;i++){			var html = '<div class="data-container-part data-container-part1 data-container-detail">'+							'<div class="data-container-parts userId">'+data.users[i].userId+'</div>'+							'<div class="data-container-parts">'+data.users[i].name+'</div>'+							'<div class="data-container-parts">'+data.users[i].represent+'</div>'+							'<div class="data-container-parts">'+data.users[i].mobile+'</div>'+							'<div class="data-container-parts">'+data.users[i].address+'</div>'+							'<div class="data-container-parts">'+								'<button class="data-container-part-lookUp change">修改</button>|'+								'<button class="data-container-part-lookUp">删除</button>'+							'</div>'+							'<div class="clear"></div>'+						'</div>';			$("#data-container").append(html);		}	}else if(data.status=="no"){		$(".data-container-part1").remove();		var html = '<div class="data-container-part data-container-part1 data-container-detail">'+							'<div class="data-container-parts">暂无数据</div>'+							'<div class="data-container-parts">暂无数据</div>'+							'<div class="data-container-parts">暂无数据</div>'+							'<div class="data-container-parts">暂无数据</div>'+							'<div class="data-container-parts">暂无数据</div>'+							'<div class="data-container-parts">'+								'<button class="data-container-part-lookUp">修改</button>|'+								'<button class="data-container-part-lookUp">删除</button>'+							'</div>'+							'<div class="clear"></div>'+						'</div>';			$("#data-container").append(html);	}}function visit_success(data){	if(data.status=="yes"){		$(".data-container-part1").remove();		$(".allProtocol").html(data.visitNum)		for(var i=0;i<data.visitRegists.length;i++){				var html = '<div class="data-container-part data-container-part1 data-container-detail">'+								'<div class="data-container-parts visitId">'+data.visitRegists[i].visitId+'</div>'+								'<div class="data-container-parts">'+data.visitRegists[i].visitId+'</div>'+								'<div class="data-container-parts">'+data.visitRegists[i].termName+'</div>'+								'<div class="data-container-parts">'+data.visitRegists[i].link+'</div>'+								'<div class="data-container-parts">'+data.visitRegists[i].addTime+'</div>'+								'<div class="data-container-parts">'+data.visitRegists[i].mobile+'</div>'+								'<div class="data-container-parts">'+data.visitRegists[i].address+'</div>'+								'<div class="data-container-parts">'+data.visitRegists[i].visitNumber+'</div>'+								'<div class="data-container-parts">'+									'<button class="data-container-part-lookUp lookUp">查看</button>|'+									'<button class="data-container-part-lookUp">隐藏</button>'+								'</div>'+								'<div class="clear"></div>'+							'</div>';								$("#data-container").append(html)			}		}else if(data.status=="no"){			$(".data-container-part1").remove();			var html = '<div class="data-container-part data-container-part1 data-container-part data-container-detail">'+								'<div class="data-container-parts">暂无数据</div>'+								'<div class="data-container-parts">暂无数据</div>'+								'<div class="data-container-parts">暂无数据</div>'+								'<div class="data-container-parts">暂无数据</div>'+								'<div class="data-container-parts">暂无数据</div>'+								'<div class="data-container-parts">暂无数据</div>'+								'<div class="data-container-parts">暂无数据</div>'+								'<div class="data-container-parts">暂无数据</div>'+								'<div class="data-container-parts">'+									'<button class="data-container-part-lookUp lookUp">查看</button>|'+									'<button class="data-container-part-lookUp">隐藏</button>'+								'</div>'+								'<div class="clear"></div>'+							'</div>';								$("#data-container").append(html)		}}function protocols_success2(data){	if(data.status=="yes"){			$(".data-container-part1").remove();		for(var i=0;i<data.protocols.length;i++){									var html='<div class="data-container-part data-container-part1 data-container-detail">'+						'<div class="data-container-parts protocolId">'+data.protocols[i].protocolId+'</div>'+						'<div class="data-container-parts data-container-parts-userId" data-userId="'+data.protocols[i].userId+'">'+data.protocols[i].name+'</div>'+						'<div class="data-container-parts data-container-parts-customerName">'+data.protocols[i].customerName+'</div>'+						'<div class="data-container-parts">'+data.protocols[i].addTime+'</div>'+						'<div class="data-container-parts">'+							'<button class="data-container-part-lookUp lookUp">查看</button>|'+							'<button class="data-container-part-lookUp">隐藏</button>'+						'</div>'+						'<div class="clear"></div>'+					'</div>';			$("#data-container").append(html)		}		}else if(data.status=="no"){		$(".data-container-part1").remove();		var html='<div class="data-container-part data-container-part1 data-container-detail">'+					'<div class="data-container-parts">暂无数据</div>'+					'<div class="data-container-parts">暂无数据</div>'+					'<div class="data-container-parts">暂无数据</div>'+					'<div class="data-container-parts">暂无数据</div>'+					'<div class="data-container-parts">'+						'<button class="data-container-part-lookUp lookUp">查看</button>|'+						'<button class="data-container-part-lookUp">隐藏</button>'+					'</div>'+					'<div class="clear"></div>'+				'</div>';		$("#data-container").append(html)	}}